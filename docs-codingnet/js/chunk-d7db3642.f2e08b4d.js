(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d7db3642"],{"014c":function(e,t,n){"use strict";n.r(t);var r=n("78ad"),i=n.n(r);for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);t["default"]=i.a},"09f0":function(e,t,n){var r,i,a;n("a4d3"),n("e01a"),n("d28b"),n("e260"),n("d3b7"),n("25f0"),n("3ca3"),n("ddb0"),function(n,o){i=[t],r=o,a="function"===typeof r?r.apply(t,i):r,void 0===a||(e.exports=a)}("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self&&self,(function(e){"use strict";function t(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(r=(o=c.next()).done);r=!0)if(n.push(o.value),t&&n.length===t)break}catch(s){i=!0,a=s}finally{try{r||null==c["return"]||c["return"]()}finally{if(i)throw a}}return n}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=t}))},"0d21":function(e,t,n){var r,i,a;(function(n,o){i=[t],r=o,a="function"===typeof r?r.apply(t,i):r,void 0===a||(e.exports=a)})("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self&&self,(function(e){"use strict";function t(e){if(Array.isArray(e))return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=t}))},"27d6":function(e,t,n){"use strict";var r=n("92fe"),i=n.n(r);i.a},3835:function(e,t,n){var r,i,a;(function(o,c){i=[t,n("0d21"),n("09f0"),n("3d8c")],r=c,a="function"===typeof r?r.apply(t,i):r,void 0===a||(e.exports=a)})("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self&&self,(function(e,t,n,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,i){return(0,t.default)(e)||(0,n.default)(e,i)||(0,r.default)()}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a,t=i(t),n=i(n),r=i(r)}))},"3d8c":function(e,t,n){var r,i,a;(function(n,o){i=[t],r=o,a="function"===typeof r?r.apply(t,i):r,void 0===a||(e.exports=a)})("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self&&self,(function(e){"use strict";function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}Object.defineProperty(e,"__esModule",{value:!0}),e.default=t}))},"78ad":function(e,t,n){var r,i,a;n("a4d3"),n("4de4"),n("4160"),n("d81d"),n("e439"),n("dbb4"),n("b64b"),n("d3b7"),n("07ac"),n("25f0"),n("159b"),function(o,c){i=[t,n("53ca"),n("3835"),n("ade3"),n("2909"),n("96cf"),n("1da1")],r=c,a="function"===typeof r?r.apply(t,i):r,void 0===a||(e.exports=a)}("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self&&self,(function(e,t,r,i,a,o,c){"use strict";var s=n("4ea4");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){(0,i.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=s(t),r=s(r),i=s(i),a=s(a),c=s(c);var d={name:"UPC",data:function(){return{upcLoading:!1,exportUPCListLoading:!1,deleteUpcModal:!1,deleteUpcLoading:!1,upcAddOrEditModal:!1,addOrEditUpcLoading:!1,list:[],pagination:{currentPage:1,pageSize:10,total:0},opType:"add",form:{upc:"",sku:""},rules:{upc:[{required:!0,message:"upc不能为空",trigger:"blur"}]}}},computed:{upcAddOrEditModalTitle:function(){var e=this.opType;return"add"===e?"新增UPC":"edit"===e?"编辑UPC":""}},mounted:function(){this.fetchUpcList()},methods:{fetchUpcList:function(){var e=(0,c.default)(regeneratorRuntime.mark((function e(){var t,n,r,i,o,c,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t=this.pagination,n=t.currentPage,r=t.pageSize,i={currentPage:n,pageSize:r},this.upcLoading=!0,e.prev=3,e.next=6,this.$service.upcService.getUpcList(i);case 6:o=e.sent,c=o.list,s=o.pagination,this.list=(0,a.default)(c),this.pagination=l({},s),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](3),this.$message.error(e.t0);case 16:return e.prev=16,this.upcLoading=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[3,13,16,19]])})));function t(){return e.apply(this,arguments)}return t}(),onHandleClickExportUPCExcel:function(){var e=(0,c.default)(regeneratorRuntime.mark((function e(){var n,i,a,o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.$utils.fileUtils.importExcel((function(e){o.exportUPCListLoading=e}));case 3:return n=e.sent,i=n.map((function(e){var t=Object.values(e),n=(0,r.default)(t,2),i=n[0],a=n[1],o=void 0===a?"":a;return{upc:String(i),sku:String(o)}})),e.next=7,this.$service.upcService.addUpc(i);case 7:a=e.sent,a&&(this.$message.success("导入成功"),this.pagination={pageSize:10,currentPage:1,total:0},this.$nextTick((function(){o.fetchUpcList()}))),e.next=15;break;case 11:e.prev=11,e.t0=e["catch"](0),e.t0="object"===(0,t.default)(e.t0)?e.t0.toString():e.t0,this.$message({type:"error",message:e.t0,duration:0,showClose:!0});case 15:return e.prev=15,this.exportUPCListLoading=!1,e.finish(15);case 18:case"end":return e.stop()}}),e,this,[[0,11,15,18]])})));function n(){return e.apply(this,arguments)}return n}(),onHandleClickEdit:function(e){var t=e.upc,n=e.sku;this.editUpcItem=e,this.form={upc:t,sku:n},this.upcAddOrEditModal=!0,this.opType="edit"},onHandleClickDelete:function(e){this.deleteUpcItem=e,this.deleteUpcModal=!0},onHandleConfirmDeleteUpc:function(){var e=(0,c.default)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.deleteUpcItem,t){e.next=3;break}return e.abrupt("return",this.$message.error("删除upc错误"));case 3:return n=t.objectId,this.deleteUpcLoading=!0,e.prev=5,e.next=8,this.$service.upcService.deleteUpc(n);case 8:this.$message.success("删除upc成功"),this.deleteUpcModal=!1,this.fetchUpcList(),e.next=16;break;case 13:e.prev=13,e.t0=e["catch"](5),this.$message.error(e.t0);case 16:return e.prev=16,this.deleteUpcLoading=!1,e.finish(16);case 19:case"end":return e.stop()}}),e,this,[[5,13,16,19]])})));function t(){return e.apply(this,arguments)}return t}(),onHandleConfirmAddOrEditUpc:function(){var e=(0,c.default)(regeneratorRuntime.mark((function e(){var t,n,r,i,a=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.$refs.upcAddorEditFormRef.validate();case 2:if(t=e.sent,t){e.next=5;break}return e.abrupt("return");case 5:if(n=this.form,r=this.opType,this.addOrEditUpcLoading=!0,e.prev=8,"add"!==r){e.next=14;break}return e.next=12,this.$service.upcService.addUpc(n);case 12:e.next=21;break;case 14:if("edit"!==r){e.next=21;break}if(this.editUpcItem){e.next=17;break}return e.abrupt("return",this.$message.error("upc编辑错误"));case 17:return i=this.editUpcItem.objectId,n.id=i,e.next=21,this.$service.upcService.editUpc(n);case 21:this.$message.success("".concat("add"===r?"新增":"edit"===r?"修改":"","upc成功")),"add"===r&&(this.pagination={currentPage:1,pageSize:10,total:0}),this.upcAddOrEditModal=!1,this.$nextTick((function(){a.fetchUpcList()})),e.next=30;break;case 27:e.prev=27,e.t0=e["catch"](8),this.$message.error(e.t0);case 30:return e.prev=30,this.addOrEditUpcLoading=!1,e.finish(30);case 33:case"end":return e.stop()}}),e,this,[[8,27,30,33]])})));function t(){return e.apply(this,arguments)}return t}()}};e.default=d}))},"815a":function(e,t,n){"use strict";n.r(t);var r=n("f95f"),i=n("014c");for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);n("27d6");var o=n("2877"),c=Object(o["a"])(i["default"],r["a"],r["b"],!1,null,"efbf67e6",null);t["default"]=c.exports},"92fe":function(e,t,n){},f95f:function(e,t,n){"use strict";var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"op-container"},[n("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(){e.upcAddOrEditModal=!0,e.opType="add"}}},[e._v("新建UPC")]),n("el-button",{attrs:{type:"success",size:"small",loading:e.exportUPCListLoading},on:{click:e.onHandleClickExportUPCExcel}},[e._v("导入UPC Excel")])],1),n("div",{staticClass:"title-container"},[n("h3",{staticClass:"title"},[e._v("UPC列表")]),n("div",{staticClass:"total"},[e._v("共"),n("strong",{staticStyle:{color:"rgb(255, 0, 0)"}},[e._v(e._s(e.pagination.total))]),e._v("个")])]),n("div",{staticClass:"table-container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.upcLoading,expression:"upcLoading"}],staticClass:"table",attrs:{data:e.list,border:"",stripe:"","highlight-current-row":"",height:"100%"}},[n("el-table-column",{attrs:{label:"操作",fixed:"",width:"60"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticStyle:{color:"#579ef8","font-size":"12px","margin-right":"5px",cursor:"pointer"},on:{click:function(n){return e.onHandleClickEdit(t.row)}}},[e._v("编辑")]),n("span",{staticStyle:{color:"#e98f8c","font-size":"12px",cursor:"pointer"},on:{click:function(n){return e.onHandleClickDelete(t.row)}}},[e._v("删除")])]}}])}),n("el-table-column",{attrs:{label:"序号",width:"50"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s((e.pagination.currentPage-1)*e.pagination.pageSize+(t.$index+1)))]}}])}),n("el-table-column",{attrs:{label:"UPC",prop:"upc"}}),n("el-table-column",{attrs:{label:"SKU",prop:"sku"}}),n("el-table-column",{attrs:{label:"创建时间"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s(e.$utils.dateUtils.formatDate(new Date(t.row.createdAt))))]}}])})],1)],1),e.list.length>0?n("el-pagination",{staticClass:"pagination-container",attrs:{"page-sizes":[10,20,30],"current-page":e.pagination.currentPage,"page-size":e.pagination.pageSize,layout:"sizes, prev, pager, next",total:e.pagination.total},on:{"update:currentPage":function(t){return e.$set(e.pagination,"currentPage",t)},"update:current-page":function(t){return e.$set(e.pagination,"currentPage",t)},"update:pageSize":function(t){return e.$set(e.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.pagination,"pageSize",t)},"size-change":e.fetchUpcList,"current-change":e.fetchUpcList}}):e._e(),n("el-dialog",{attrs:{visible:e.deleteUpcModal,title:"删除UPC",width:"30%"},on:{"update:visible":function(t){e.deleteUpcModal=t}}},[n("div",[e._v("你确定要删除此UPC吗？")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.deleteUpcModal=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary",size:"small",loading:e.deleteUpcLoading},on:{click:e.onHandleConfirmDeleteUpc}},[e._v("确 定")])],1)]),n("el-dialog",{attrs:{visible:e.upcAddOrEditModal,title:e.upcAddOrEditModalTitle,"destroy-on-close":""},on:{"update:visible":function(t){e.upcAddOrEditModal=t},close:function(){return e.form={upc:"",sku:""}}}},[n("el-form",{ref:"upcAddorEditFormRef",attrs:{model:e.form,rules:e.rules,"label-width":"100px","status-icon":""}},[n("el-form-item",{attrs:{label:"upc：",prop:"upc"}},[n("el-input",{attrs:{placeholder:"请输入upc"},model:{value:e.form.upc,callback:function(t){e.$set(e.form,"upc",t)},expression:"form.upc"}})],1),n("el-form-item",{attrs:{label:"sku：",prop:"sku"}},[n("el-input",{attrs:{placeholder:"请输入sku"},model:{value:e.form.sku,callback:function(t){e.$set(e.form,"sku",t)},expression:"form.sku"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(){e.upcAddOrEditModal=!1,e.form={upc:"",sku:""}}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary",size:"small",loading:e.addOrEditUpcLoading},on:{click:e.onHandleConfirmAddOrEditUpc}},[e._v("确 定")])],1)],1)],1)},i=[];n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}))}}]);
//# sourceMappingURL=chunk-d7db3642.f2e08b4d.js.map