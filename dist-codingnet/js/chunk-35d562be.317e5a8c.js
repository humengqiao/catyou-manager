(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-35d562be"],{"0deb":function(e,t,n){var i,r,a;n("a4d3"),n("4de4"),n("4160"),n("e439"),n("dbb4"),n("b64b"),n("159b"),function(s,o){r=[t,n("2909"),n("96cf"),n("1da1"),n("ade3"),n("5880"),n("1199")],i=o,a="function"===typeof i?i.apply(t,r):i,void 0===a||(e.exports=a)}("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self&&self,(function(e,t,i,r,a,s,o){"use strict";var l=n("4ea4");function c(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,i)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?c(Object(n),!0).forEach((function(t){(0,a.default)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,t=l(t),r=l(r),a=l(a),o=l(o);var f={name:"PermissionList",components:{TitleSection:o.default},data:function(){return{list:[],userPermissionLoading:!1,oneClickCleanModal:!1,oneClickCleanLoading:!1,pagination:{pageSize:10,currentPage:1,total:0}}},mounted:function(){this.fetchAllUserPermissionList(),this.setBreadList()},methods:u({setBreadList:function(){this.setBread([{path:"/dashboard/permission",name:"权限管理"},{path:"/dashboard/permission/list",name:"列表"}])},fetchAllUserPermissionList:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){var n,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=this.pagination,this.userPermissionLoading=!0,e.prev=2,e.next=5,this.$service.userService.getAllPermissionList(n);case 5:i=e.sent,i&&(this.list=(0,t.default)(i)),e.next=12;break;case 9:e.prev=9,e.t0=e["catch"](2),this.$message.error(e.t0);case 12:return e.prev=12,this.userPermissionLoading=!1,e.finish(12);case 15:case"end":return e.stop()}}),e,this,[[2,9,12,15]])})));function n(){return e.apply(this,arguments)}return n}(),onHandleOneClickClean:function(e){this.oneClickCleanModal=!0,this.oneClickCleanData=e},onHandleConfirmOnClickClean:function(){var e=(0,r.default)(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.oneClickCleanData,t){e.next=3;break}return e.abrupt("return");case 3:return this.oneClickCleanLoading=!0,n=t.username,e.prev=5,e.next=8,this.$service.userService.cleanAllPermission(n);case 8:this.$message.success("清空成功"),this.oneClickCleanModal=!1,this.fetchAllUserPermissionList(),this.fetchUserPermissionList(),e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](5),this.$message.error(e.t0);case 17:return e.prev=17,this.oneClickCleanLoading=!1,e.finish(17);case 20:case"end":return e.stop()}}),e,this,[[5,14,17,20]])})));function t(){return e.apply(this,arguments)}return t}()},(0,s.mapActions)(["fetchUserPermissionList","setBread"]))};e.default=f}))},1199:function(e,t,n){"use strict";n.r(t);var i=n("a5a8"),r=n("3ecb");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("aa8f");var s=n("2877"),o=Object(s["a"])(r["default"],i["a"],i["b"],!1,null,"3a620e50",null);t["default"]=o.exports},"1e8b":function(e,t,n){"use strict";n.r(t);var i=n("0deb"),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},"3ecb":function(e,t,n){"use strict";n.r(t);var i=n("6733"),r=n.n(i);for(var a in i)"default"!==a&&function(e){n.d(t,e,(function(){return i[e]}))}(a);t["default"]=r.a},"631f":function(e,t,n){"use strict";n.r(t);var i=n("f06a"),r=n("1e8b");for(var a in r)"default"!==a&&function(e){n.d(t,e,(function(){return r[e]}))}(a);n("ba94");var s=n("2877"),o=Object(s["a"])(r["default"],i["a"],i["b"],!1,null,"32d06fdc",null);t["default"]=o.exports},6733:function(e,t,n){var i,r,a;n("a9e3"),function(n,s){r=[t],i=s,a="function"===typeof i?i.apply(t,r):i,void 0===a||(e.exports=a)}("undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self&&self,(function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={name:"TitleCount",props:{title:{required:!0,type:String,default:""},count:{type:[String,Number],default:0},unit:{type:String,default:"个"}}};e.default=t}))},a5a8:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-container"},[n("h3",{staticClass:"title"},[e._v(e._s(e.title))]),e._t("default",[n("div",{staticClass:"total"},[e._v("共"),n("strong",{staticStyle:{color:"#ff0000"}},[e._v(e._s(e.count))]),e._v(e._s(e.unit))])])],2)},r=[];n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}))},aa8f:function(e,t,n){"use strict";var i=n("cfa7"),r=n.n(i);r.a},ba94:function(e,t,n){"use strict";var i=n("d594"),r=n.n(i);r.a},cfa7:function(e,t,n){},d594:function(e,t,n){},f06a:function(e,t,n){"use strict";var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list-container"},[n("div",{staticClass:"user-permission-container"},[n("title-section",{attrs:{title:"用户权限列表",count:e.list.length}})],1),n("div",{staticClass:"table-container"},[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.userPermissionLoading,expression:"userPermissionLoading"}],staticClass:"table",attrs:{data:e.list,border:"",stripe:"","highlight-current-row":"",height:"100%"}},[n("el-table-column",{attrs:{label:"序号",width:"50px"},scopedSlots:e._u([{key:"default",fn:function(t){return[e._v(e._s((e.pagination.currentPage-1)*e.pagination.pageSize+t.$index+1))]}}])}),n("el-table-column",{attrs:{label:"用户名",prop:"username"}}),n("el-table-column",{attrs:{label:"已获取的权限数",prop:"hadPermissionCount"}}),n("el-table-column",{attrs:{label:"导航菜单权限数",prop:"showPermissionCount"}}),n("el-table-column",{attrs:{label:"非导航菜单权限数",prop:"hidePermissionCount"}}),n("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("span",{staticStyle:{color:"rgb(87, 158, 248)","font-size":"12px","margin-right":"5px",cursor:"pointer"},on:{click:function(n){return e.$router.push("/dashboard/permission/modify/"+t.row.username)}}},[e._v("修改")]),n("span",{staticStyle:{color:"rgb(233, 143, 140)","font-size":"12px",cursor:"pointer"},on:{click:function(n){return e.onHandleOneClickClean(t.row)}}},[e._v("一键清空")])]}}])})],1)],1),e.list.length>0?n("el-pagination",{staticClass:"pagination-container",attrs:{"page-sizes":[10,20,30],"current-page":e.pagination.currentPage,"page-size":e.pagination.pageSize,layout:"sizes, prev, pager, next",total:e.pagination.total},on:{"update:currentPage":function(t){return e.$set(e.pagination,"currentPage",t)},"update:current-page":function(t){return e.$set(e.pagination,"currentPage",t)},"update:pageSize":function(t){return e.$set(e.pagination,"pageSize",t)},"update:page-size":function(t){return e.$set(e.pagination,"pageSize",t)},"size-change":e.fetchUserPermissionList,"current-change":e.fetchUserPermissionList}}):e._e(),n("el-dialog",{attrs:{visible:e.oneClickCleanModal,title:"清空权限",width:"30%"},on:{"update:visible":function(t){e.oneClickCleanModal=t}}},[n("div",[e._v("您确定要清空该用户的所有权限吗？")]),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{size:"small"},on:{click:function(t){e.oneClickCleanModal=!1}}},[e._v("取 消")]),n("el-button",{attrs:{type:"primary",size:"small",loading:e.oneClickCleanLoading},on:{click:e.onHandleConfirmOnClickClean}},[e._v("确 定")])],1)])],1)},r=[];n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return r}))}}]);
//# sourceMappingURL=chunk-35d562be.317e5a8c.js.map